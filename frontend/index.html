<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>HTML CSS Register Form</title>
    <link rel="stylesheet" href="style.css">
  </head>

  
  <body>
    <form class="signup-form" method="post" id="anchor">

      <!-- form header -->
      <div class="form-header">
        <h1>Loan Approval Form</h1>
      </div>

      <!-- form body -->
      <div class="form-body">

        <!-- Firstname and Lastname -->
        <div class="horizontal-group">
          <div class="form-group left">
            <label for="firstname" class="label-title">Email </label>
            <input type="text" id="email" class="form-input" placeholder="enter your first name" required="required" />
          </div>
          <div class="form-group right">
          <label for="firstname" class="label-title">Gender </label>

          <select class="form-input" id="gender" required="required" >
              <option value="1">Male</option>
              <option value="0">Female</option>
            </select>
          </div>
        </div>

        <div class="horizontal-group">
          <div class="form-group left">
            <label for="firstname" class="label-title">Property Area </label>
          <select class="form-input" id="Property_Area" required="required" >
              <option value="Urban">Urban</option>
              <option value="Semiurban">Semiurban</option>
              <option value="Rural">Rural</option>
            </select>
          </div>
          <div class="form-group right">
          <label for="firstname" class="label-title">Married </label>

          <select class="form-input" id="married" required="required" >
              <option value="1">Yes</option>
              <option value="0">No</option>
            </select>
          </div>
        </div>
        <div class="horizontal-group">
          <div class="form-group left">
            <!-- <label for="dependents" class="label-title">Dependents </label> -->
            <label for="firstname" class="label-title">Dependents </label>

            <select class="form-input" id="dependents" required="required" >
              <option value="0">Dependents</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
            </select>
          </div>
          <div class="form-group right">
          <label for="firstname" class="label-title">Education </label>

          <select class="form-input" id="education" required="required" >
              <option value="1">Gradudate</option>
              <option value="0">Not Graduate</option>
            </select>
          </div>
        </div>


        <div class="horizontal-group">
          <div class="form-group left">
            <!-- <label for="dependents" class="label-title">Dependents </label> -->
            <label for="firstname" class="label-title">Are you self employeed? </label>

            <select class="form-input" id="Self_Employed" required="required" >
              <option value="1">Yes</option>
              <option value="0">No</option>
            </select>
          </div>
          <div class="form-group right">
            <label for="LoanAmount" class="label-title">Loan Amount</label>
            <input type="number" id="LoanAmount"  class="form-input">
          </div>
        </div>

        <div class="horizontal-group">
          <div class="form-group left">
          <label for="LoanAmount" class="label-title">Loan Amount Term (weeks)</label>
            <select class="form-input" id="Loan_Amount_Term" required="required" >
              <option value="60">60</option>
              <option value="120">120</option>
              <option value="180">180</option>
              <option value="360">360</option>
              <option value="480">480</option>
            </select>
          </div>

          <div class="form-group right">
          <label for="firstname" class="label-title">Gender </label>

          <select class="form-input" id="gender" required="required" >
              <option value="Employed">Gender</option>
              <option value="1">Male</option>
              <option value="0">Female</option>
            </select>
          </div>
          
          <!-- <div class="form-group right">
          <label for="firstname" class="label-title">Are you self employeed? </label>
            <select class="form-input" id="Loan_Amount_Term" required="required" >
              <option value="1">Positive</option>
              <option value="0">Negative</option>
            </select> 
          </div> -->
        </div>


        <div class="horizontal-group">
          <div class="form-group left">
            <!-- <label for="dependents" class="label-title">Dependents </label> -->
            <label for="ApplicantIncome" class="label-title">Income </label>
            <input type="number" id="ApplicantIncome"  class="form-input">
          </div>
          <div class="form-group right">
            <label for="Credit_History" class="label-title">Credit History</label>
            <select class="form-input" id="Credit_History" required="required" >
              <option value="1">Positive</option>
              <option value="0">Negative</option>
            </select>
          </div>
        </div>

      <div class="form-footer">
        <span>All fields are required</span>
        <button type="submit" class="btn">Predict</button>
      </div>

    </form>

  

  </body>

  <script>

        document.getElementById("anchor").addEventListener("submit", function(event){
        event.preventDefault();
        let email = document.getElementById('email').value;
        let Gender = document.getElementById('gender').value;
        let education = document.getElementById('education').value;
        let dependents = document.getElementById('dependents').value;
        let Self_Employed = document.getElementById('Self_Employed').value;
        let LoanAmount = document.getElementById('LoanAmount').value;
        let married = document.getElementById('married').value;
        let Loan_Amount_Term = document.getElementById('Loan_Amount_Term').value;
        let Credit_History = document.getElementById('Credit_History').value;
        let ApplicantIncome = document.getElementById('ApplicantIncome').value;
        let Property_Area = document.getElementById('Property_Area').value;

        // http://localhost:8080/getPrediction?email=easd&Gender=0&education=0&Dependents=3&Self_Employed=0&ApplicantIncome=0&LoanAmount=123&Loan_Amount_Term=120&Credit_History=0&Property_Area=urban

        fetch('http://auto-ai-url-default.integro-sandbox-cluster-dec238a6ba0c64ed92191aa193d448c3-0000.us-south.containers.appdomain.cloud/getPrediction?email='+email+'&Gender='+Gender+'&education='+education+'&dependents='+dependents+'&Self_Employed='+Self_Employed+'&LoanAmount='+LoanAmount+'&married='+married+'&Loan_Amount_Term='+Loan_Amount_Term+'&Credit_History='+Credit_History+'&ApplicantIncome='+ApplicantIncome+'&Property_Area='+Property_Area,{mode:'cors',
        headers: {}}).then(function(response) {
          return response.json();
        }).then(function(data) {
          if(data.status === 200){
            window.alert(
              "Loan is approved");
              loan.focus();
          }else{
            window.alert(
              "Loan is rejected");
              loan.focus();
          }
        }).catch(function(e) {
          console.log("Something went wrong",e);
        });
      })

    </script> 

    <!-- Script for range input label -->
    
</html>